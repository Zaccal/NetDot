{"ast":null,"code":"import { createRandomDate } from \"./../utils/utilsFn\";\nimport axios from \"axios\";\nexport class ApiService {\n  static async getUsers() {\n    // const fromAPIUsers = (await axios.get(this.URL_USERS)).data.map(\n    //   (user: FromApiUser): otherUser => {\n    //     return {\n    //       id: user.id,\n    //       login: user.username,\n    //       email: user.email,\n    //     };\n    //   }\n    // );\n    const users = await axios.get(this.URL_USERS);\n    console.log(users.data.users);\n    return [];\n    // return fromAPIUsers;\n  }\n\n  static async getPosts(_ref) {\n    let {\n      limit,\n      page\n    } = _ref;\n    const usersDatas = await this.getUsers();\n    const usersPosts = await axios.get(this.URL_POSTS, {\n      params: {\n        _limit: limit,\n        _page: page\n      }\n    });\n    let resultPosts = [];\n    usersPosts.data.forEach((post, index) => {\n      if (resultPosts.length !== 10) {\n        resultPosts.push({\n          postId: post.id,\n          postTitle: post.title,\n          postBody: post.body,\n          createdDate: createRandomDate(),\n          authorLogin: usersDatas[index].login,\n          userId: usersDatas[index].id\n        });\n      }\n    });\n    return resultPosts !== undefined ? resultPosts : [];\n  }\n}\nApiService.URL_USERS = \"https://dummyjson.com/users?limit=100\";\nApiService.URL_POSTS = \"https://jsonplaceholder.typicode.com/posts\";","map":{"version":3,"names":["createRandomDate","axios","ApiService","getUsers","users","get","URL_USERS","console","log","data","getPosts","limit","page","usersDatas","usersPosts","URL_POSTS","params","_limit","_page","resultPosts","forEach","post","index","length","push","postId","id","postTitle","title","postBody","body","createdDate","authorLogin","login","userId","undefined"],"sources":["C:/Users/ksss9/OneDrive/Документы/MyWorks/net-dot/src/API/ApiService.ts"],"sourcesContent":["import { createRandomDate } from \"./../utils/utilsFn\";\r\nimport {\r\n  FromApiPostType,\r\n  PostType,\r\n  FromApiUser,\r\n  otherUser,\r\n} from \"./../types/Interfaces\";\r\nimport axios from \"axios\";\r\n\r\ninterface ParamsAPI {\r\n  limit: number;\r\n  page: number\r\n}\r\n\r\nexport class ApiService {\r\n  private static URL_USERS = \"https://dummyjson.com/users?limit=100\";\r\n  private static URL_POSTS = \"https://jsonplaceholder.typicode.com/posts\";\r\n\r\n  static async getUsers(): Promise<otherUser[]> {\r\n    // const fromAPIUsers = (await axios.get(this.URL_USERS)).data.map(\r\n    //   (user: FromApiUser): otherUser => {\r\n    //     return {\r\n    //       id: user.id,\r\n    //       login: user.username,\r\n    //       email: user.email,\r\n    //     };\r\n    //   }\r\n    // );\r\n    const users = await axios.get(this.URL_USERS)\r\n    \r\n    console.log(users.data.users);\r\n    return []\r\n    // return fromAPIUsers;\r\n  }\r\n\r\n  static async getPosts({limit, page}: ParamsAPI): Promise<PostType[]> {\r\n    const usersDatas = await this.getUsers();\r\n    const usersPosts = await axios.get(this.URL_POSTS, {\r\n      params: {\r\n        _limit: limit,\r\n        _page: page\r\n      }\r\n    })\r\n    let resultPosts: PostType[] = []\r\n    usersPosts.data.forEach((post: FromApiPostType, index: number) => {      \r\n      if (resultPosts.length !== 10) {\r\n        resultPosts.push({\r\n          postId: post.id,\r\n          postTitle: post.title,\r\n          postBody: post.body,\r\n          createdDate: createRandomDate(),\r\n          authorLogin: usersDatas[index].login,\r\n          userId: usersDatas[index].id\r\n        })\r\n      }\r\n    })\r\n\r\n    return resultPosts !== undefined ? resultPosts : [];\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,oBAAoB;AAOrD,OAAOC,KAAK,MAAM,OAAO;AAOzB,OAAO,MAAMC,UAAU,CAAC;EAItB,aAAaC,QAAQ,GAAyB;IAC5C;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,MAAMC,KAAK,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,IAAI,CAACC,SAAS,CAAC;IAE7CC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAACK,IAAI,CAACL,KAAK,CAAC;IAC7B,OAAO,EAAE;IACT;EACF;;EAEA,aAAaM,QAAQ,OAAgD;IAAA,IAA/C;MAACC,KAAK;MAAEC;IAAe,CAAC;IAC5C,MAAMC,UAAU,GAAG,MAAM,IAAI,CAACV,QAAQ,EAAE;IACxC,MAAMW,UAAU,GAAG,MAAMb,KAAK,CAACI,GAAG,CAAC,IAAI,CAACU,SAAS,EAAE;MACjDC,MAAM,EAAE;QACNC,MAAM,EAAEN,KAAK;QACbO,KAAK,EAAEN;MACT;IACF,CAAC,CAAC;IACF,IAAIO,WAAuB,GAAG,EAAE;IAChCL,UAAU,CAACL,IAAI,CAACW,OAAO,CAAC,CAACC,IAAqB,EAAEC,KAAa,KAAK;MAChE,IAAIH,WAAW,CAACI,MAAM,KAAK,EAAE,EAAE;QAC7BJ,WAAW,CAACK,IAAI,CAAC;UACfC,MAAM,EAAEJ,IAAI,CAACK,EAAE;UACfC,SAAS,EAAEN,IAAI,CAACO,KAAK;UACrBC,QAAQ,EAAER,IAAI,CAACS,IAAI;UACnBC,WAAW,EAAE/B,gBAAgB,EAAE;UAC/BgC,WAAW,EAAEnB,UAAU,CAACS,KAAK,CAAC,CAACW,KAAK;UACpCC,MAAM,EAAErB,UAAU,CAACS,KAAK,CAAC,CAACI;QAC5B,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IAEF,OAAOP,WAAW,KAAKgB,SAAS,GAAGhB,WAAW,GAAG,EAAE;EACrD;AACF;AA7CajB,UAAU,CACNI,SAAS,GAAG,uCAAuC;AADvDJ,UAAU,CAENa,SAAS,GAAG,4CAA4C"},"metadata":{},"sourceType":"module","externalDependencies":[]}